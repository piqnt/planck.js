<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="user-scalable=no, width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />
    <link rel="stylesheet" href="/testbed/styles.css" />
    <title>Testbed for Planck.js</title>
  </head>
  <body>
    <div class="center">
      <div class="header">
        <table class="control">
          <tr><td>
          <a id="testbed-play" class="pause"><span class="pause">Pause</span><span class="play">Play</span></a>
          </td><td>
          <a id="testbed-reload">Reload</a>
          </td><td>
          <a id="testbed-prev">Prev</a>
          </td><td>
          <a id="testbed-next">Next</a>
          </td><td>
          <select id="testbed-select">
            <option selected disabled hidden value=''>Select...</option>
          {{#examples}}<option value="{{url}}" {{#selected}}selected{{/selected}}>{{name}}</option>{{/examples}}
          </select>
          </td></tr>
        </table>
        <h3 class="title">Planck.js</h3>
      </div>
      <canvas id="stage"></canvas>
      <div id="testbed-status"></div>
      <div id="testbed-info"></div>
    </div>
    <script>
      DEBUG = true;
    </script>
    <script src="/dist/planck-with-testbed.js"></script>
    <script>
      {
        const reloadButton = document.getElementById('testbed-reload');
        reloadButton.addEventListener('click', function() {
          window.location.reload();
        });

        const exampleSelect = document.getElementById('testbed-select');
        exampleSelect.addEventListener('change', function() {
          window.location.href = this.options[exampleSelect.selectedIndex].value;
        });

        const nextButton = document.getElementById('testbed-next');
        nextButton.addEventListener('click', function() {
          playNext(+1);
        });

        const prevButton = document.getElementById('testbed-prev') ;
        prevButton.addEventListener('click', function() {
          playNext(-1);
        });

        function playNext(step) {
          for (var i = 0; i < exampleSelect.options.length; i++) {
            var index = (exampleSelect.selectedIndex + (1 + i) * step + exampleSelect.options.length) % exampleSelect.options.length;

            var option = exampleSelect.options[index];
            if (option && option.value) {
              window.location.href = option.value;
              break;
            }
          }
        }
      }
    </script>
  <script src="{{{script}}}"></script>
  </body>
</html>
